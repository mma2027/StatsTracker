{% extends "base.html" %}

{% block title %}Stats Browser - StatsTracker{% endblock %}

{% block content %}
<div class="page-header">
    <h1>ðŸ“Š Stats Browser</h1>
    <p>Browse player statistics from database</p>
</div>

{% if error %}
<div class="error-message">
    <p>Error loading stats: {{ error }}</p>
</div>
{% endif %}

<div class="csv-sections">
    <section class="csv-section">
        <h2>Team Statistics ({{ sports|length }} teams)</h2>
        <p class="section-description">View player stats organized by sport</p>

        {% if sports %}
        <div class="file-list">
            {% for sport in sports %}
            <div class="file-item">
                <div class="file-info">
                    <span class="file-name">{{ sport.name }}</span>
                    <span class="file-meta">
                        {{ sport.player_count }} players
                        {% if sport.last_updated %}
                        | Last updated: {{ sport.last_updated.strftime('%Y-%m-%d %H:%M') }}
                        {% endif %}
                    </span>
                </div>
                <div class="file-actions">
                    <a href="{{ url_for('view_sport', sport_key=sport.sport_key) }}" class="btn btn-sm btn-primary">View Stats</a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state">
            <p>No stats found in database. Run the stats update to fetch player data.</p>
            <a href="{{ url_for('demo') }}" class="btn btn-secondary">Go to Demo Panel</a>
        </div>
        {% endif %}
    </section>
</div>
{% endblock %}
